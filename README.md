OpenAhjo API
============

API and UI for accessing the decision-making material of the City of Helsinki.
The backend is RESTful and based on [Django](https://www.djangoproject.com/) and
[Tastypie](http://tastypieapi.org/). The HTML5 frontend
utilizes the REST API and is written mostly in [CoffeeScript](http://coffeescript.org/).

Background
----------
The [City of Helsinki](http://www.hel.fi/) has decided to open the data related to decision making
inside the city. In the first phase, the focus is on political decision
makers, e.g. committees, the city board and the city council. During the
second phase (to be completed in 2013), data from all non-political civil
servant decision makers will be opened, as well.

The original data is provided in zipped XML format. The data is available from
the [OpenAhjo web server](http://openhelsinki.hel.fi/files/). The ZIP files are
in subdirectories based on the committee name and ID. The ZIP file includes also
other types of files such as the attachment documents (mostly PDF) to the agenda
items.

This project automatically scans through the original repository periodically,
imports the XML, cleans it up and augments the data with other information
such as geospatial geometries. It then serves the content in linked data format
over a REST API.

API
---

The API documentation is automatically generated by [django-tastypie-swagger](https://github.com/concentricsky/django-tastypie-swagger). A live version lives at:

    http://dev.hel.fi/openahjo/doc

It is based around the following resources.

### committee

Political committee. For example:

```json
{
    id: 1,
    name: "Tarkastuslautakunta",
    origin_id: "00311",
    resource_uri: "/openahjo/v1/committee/1/"
}
```

### meeting

Meeting of a political committee. A meeting is uniquely identified by committee,
year and meeting number (within the year).

```json
{
    committee: "/openahjo/v1/committee/26/",
    committee_name: "Asuntotuotantotoimikunta",
    date: "2013-05-08",
    id: 5,
    minutes: false,
    number: 6,
    resource_uri: "/openahjo/v1/meeting/5/",
    year: 2013
}
```

### issue

An issue being discussed and decided on at different committee meetings. One
issue can be discussed in several different meetings. The resource `agenda_item`
links issues to meetings.


Installation
------------
Required Debian packages:

    language-pack-fi postgis postgresql-9.1-postgis libxml2-dev libxslt1-dev

Shell commands:

    sudo su postgres
    createuser -R -S -D -P openahjo
    createdb -O openahjo -T template0 -l fi_FI.UTF8 -E utf8 openahjo
    psql openahjo

PostgreSQL commands:

    CREATE EXTENSION postgis;
    CREATE EXTENSION postgis_topology;
